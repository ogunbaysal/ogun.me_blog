(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{211:function(e,n){e.exports={body:"## ¿Por qué re-hice mi web con Nuxt?\n\nAunque algunos ya me conoceis, soy [Marina Aísa](https://twitter.com/MarinaAisa), UX Engineer (diseño y front-end) y actualmente trabajo en [Holaluz](https://www.holaluz.com).\n\nEl pasado año, 2018, estuve muy enfocada en aprender más de JavaScript, la cual era una asignatura pendiente y a la vez aprendí una de sus librerías, [Vue.js](https://vuejs.org/). Al mismo tiempo, en Holaluz, empezamos a utilizar [Nuxt.js](https://nuxtjs.org/), un framework sobre VueJS para rehacer tanto las webs estáticas como las dinámicas (SPA) de la empresa en componentes y poder crear un sistema de diseño con ello.\n\nMi web anterior estaba hecha con [Middleman](https://middlemanapp.com/), un generador de páginas estáticas basado en Ruby, así que aproveché para rehacer mi web con Nuxt y Vue, con el fin de:\n- Aprender\n- Mejorar la performance\n- Añadir funcionalidades a la web como un blog y portfolio\n- Añadir dos idiomas, español e inglés, **también en los posts del blog** pero de forma independiente, ya que cuento con algunos posts que no estén traducidos en ambos idiomas.\n\nLo que más me atrae de Nuxt es la filosofía *serverless* (aunque Nuxt también puede ser SSR) y el prerendering estático que proporciona a aplicaciones SPA. Resumidamente, con ello se puede combinar lo mejor de una web estática: HTML compilado, lo que conlleva mejor SEO, y lo mejor de una *single page application*: Webpack, optimizaciones de caché, lazy-loading, funciones y datos asíncronos...\n\n## ¿De dónde saco el contenido si no tengo servidor?\n\nNuxt, al seguir la arquitectura [JAMStack](https://jamstack.org/), está construido para obtener contenido mediante APIs, por ello muchas personas utilizan headless CMSs como [Contentful](https://www.contentful.com/) o [Prismic](https://prismic.io/). Me parecían opciones interesantes en un principio pero me di cuenta que no era necesario para una web como la mía ya que los CMSs están orientados para ser utilizados por personas sin conocimientos técnicos, además de ser caros, guardar los assets en sus propios servidores y no ser la mejor opción si quería tener la mejor performance.\n\n**Por ello, me decidí a utilizar un sistema de Markdowns que guardaría en Github y llamaría dinámicamente.**\n\n### Importación de los artículos en la página principal dependiendo del idioma\n\nMediante la función asíncrona <inline-code>asyncData</inline-code> que proporciona Nuxt solo en sus páginas (no en sus componentes) hago una importación de los Markdown que tengo guardados en la carpeta <inline-code>content</inline-code> del proyecto. Posteriormente los devuelvo en forma de promesa como un array de objetos. Como puedes ver a continuación, la importación depende de la constante <inline-code>blogs</inline-code> que será el array <inline-code>blogsEs</inline-code> o <inline-code>blogsEn</inline-code> dependiendo del idioma de la página.\n\n```javascript\nimport blogsEn from '~/contents/en/blogsEn.js'\nimport blogsEs from '~/contents/tr/blogsTR.js'\n\nasync asyncData ({app}) {\n  const blogs = app.i18n.locale === 'en' ? blogsEn : blogsEs\n  \n  async function asyncImport (blogName) {\n    const wholeMD = await import(`~/content/${app.i18n.locale}/blog/${blogName}.md`)\n    return wholeMD.attributes\n  }\n\n  return Promise.all(blogs.map(blog => asyncImport(blog)))\n  .then((res) => {\n    return {\n      blogs: res\n    }\n  })\n}\n```\n\nLa razón por la cual tengo los arrays de los nombres de los blogs importados desde fuera es porque quiero utilizarlos también para generar las páginas de forma estática a través del objeto [generate](https://nuxtjs.org/api/configuration-generate/) en la configuración de Nuxt, fichero <inline-code>nuxt.config.js</inline-code>.\n\n```javascript\nimport blogsEn from '~/contents/en/blogsEn.js'\nimport blogsEs from '~/contents/tr/blogsTR.js'\n\ngenerate: {\n  routes: [\n    '/es', '404'\n  ]\n  .concat(blogsEn.map(blog => `/blog/${blog}`))\n  .concat(blogsEs.map(blog => `es/blog/${blog}`))\n}\n```\n\n### Generación de páginas dinámicas a partir de archivos Markdown\n\nNuxt tiene una funcionalidad muy interesante y es la creación de [rutas dinámicas](https://nuxtjs.org/guide/routing/#dynamic-routes).\n\nEn la siguiente importación vuelvo a utilizar la función <inline-code>asyncData</inline-code> en vez de <inline-code>data</inline-code> como suele hacerse en Vue, para primero importar cada Markdown y después devolver un nuevo objeto con la información que quiero utilizar en el template de la página.\n**En la importación juego con que la URL es igual al nombre de cada archivo markdown.** \nEn el caso de que el archivo md no exista simplemente irá a la página 404.\n\n```javascript\nasync asyncData ({params, app}) {\n  const fileContent = await import(`~/contents/${app.i18n.locale}/blog/${params.slug}.md`)\n  const attr = fileContent.attributes\n  return {\n    colors: attr.colors,\n    date: attr.date,\n    description: attr.description,\n    id: attr.id,\n    name: params.slug,\n    related: attr.related,\n    renderFunc: fileContent.vue.render,\n    staticRenderFuncs: fileContent.vue.staticRenderFns,\n    title: attr.title,\n    urlTranslation: attr.urlTranslation\n  }\n}\n```\n\nSi quisieramos crear un portfolio sería exactamente igual que el blog. Crearíamos dentro de <inline-code>contents</inline-code> una carpeta llamada <inline-code>portfolio</inline-code> y haríamos el mismo proceso que hemos hecho con <inline-code>blogs</inline-code>.\n\nEl loader para archivos Markdown de Webpack que utilizo es: [frontmatter-markdown-loader](https://www.npmjs.com/package/frontmatter-markdown-loader) que me permite meter componentes de Vue dentro de markdown, así como extraer los atributos <inline-code>frontmatter</inline-code> como hacen generadores estáticos como Jekyll. Y para que el código se vea así de bonito le aplico: [HighlightJS](https://highlightjs.org/)\n\n## Hablemos de performance\n\n¿Recuerdas que antes te he hablado que una de mis motivaciones para crear esta web era tener un blog que tuviera una buena performance?\nCon Nuxt lo he conseguido, y aún me queda bastante por optimizar.\n\nSi has llegado hasta aquí seguramente habrás pensado: *\"Vaya percal ha montado Marina, si total podía haber hecho un blog en [Medium](https://medium.com/) y ya está\"* y justo ahora vas a entender por qué no me gusta Medium.\n\nAdemás de que escribiendo en Medium **no tienes el control sobre tu blog** como CSS, SEO, añadir funcionalidades, el contenido **lo cedes a Medium**, tiene limitación de artículos leídos... encima, **tienen una performance que deja mucho que desear.**\n\nGracias a la herramienta [Lighthouse](https://developers.google.com/web/fundamentals/performance/audit/) de Google podemos analizar y comparar Medium con mi web.\n\n<image-responsive\n    imageURL=\"blog/vue-nuxt-blog/performance.jpg\"\n    :width=\"'952'\"\n    :height=\"'509'\"\n    alt=\"performance\" />\n\nComo ves, Medium hace muchas cosas bien pero la performance no es una de ellas. Esto se traduce en experiencia de usuario como una carga muy lenta, sobre todo en dispositivos móviles. **Porque la performance es experiencia de usuario.** Ya hablaremos más de ello otro día.\nLo interesante aquí es que con Nuxt he conseguido llegar a un **94%** de performance frente a un 40% que ofrece Medium en la primera carga, pero lo mejor es que al utilizar sistemas de caché, **la segunda vez que entres en mi web la performance es de 100%** mientras que Medium es del 60%.\n\n## Web en dos idiomas\n\nPara traducir la web en inglés y español utilizo [nuxt-i18n](https://github.com/nuxt-community/nuxt-i18n). Es una capa por encima de [vue-i18n](https://github.com/kazupon/vue-i18n) la cual tiene lazy-loading de las traducciones. *Nuxt-i18n* automatiza cómo se trabajan las traducciones en el router de Vue, simplificándolo para Nuxt. Te lo recomiendo por el router, aunque el paquete en sí está un poco verde, la documentación no es la mejor y tiene algunas cosas que no he conseguido que funcionaran como la cookie de redirección en base al idioma del navegador. Pero es un problema que tienes que aceptar si utilizas un nuevo framework como es Nuxt.\n\n## Funcionalidades y mejoras que quiero añadir en el futuro\n\n- No estoy muy contenta con la cantidad de JS que estoy metiendo en la web, tengo un total de más de 100k de JS síncrono y quiero reducirlo. Aún tengo que averiguar el cómo. Mi relación con JS es de amor/odio. Por un lado me encanta todo lo que te permite hacer y por otro lo odio porque tiene un coste terrible en la performance de la página.\n\n- Añadir un sistema de portfolio con páginas dinámicas como el blog.\n\n- Mejoras en el diseño y usabilidad.\n\n- Hacer la web totalmente accesible desde el diseño al código.\n\n- Limpiar CSS que no utilizo e intentar reducirlo.\n\n- Critico mucho Medium pero en verdad me gusta mucho tanto su diseño como algunas de sus funcionalidades, de hecho me gustaría añadir su famoso botón *\"clap\"* a mi web.\n\n- Añadir comentarios al post.\n\n- Añadir posts similares al que has leído.\n\n## Cosas de la web que os contaré otro día\n\n- Lazy loading de componentes e imágenes en Nuxt, te contaré qué paquetes utilizo y el componente propio que hice para renderizar una primera imagen *placeholder* en base64 y después de forma asíncrona la imagen final.\n\n- Cómo utilizar <inline-code>analyze</inline-code> de Nuxt para analizar el JS que genera Webpack en nuestra app y poder optimizarlo.\n\n- El gran error que cometí en el camino: Vuex. <nuxt-link to=\"/es/blog/vuex-que-es-cuando-utilizarlo\">Ya lo puedes leer aquí</nuxt-link>.\n\n- Cómo meter emojis en tu web a través de un sprite hecho en SCSS para que se vean siempre igual independientemente del navegador o dispositivo.\n\n- Carga de componentes asíncronos de Vue con el ejemplo práctico del mapa que hay en la home.\n\nPensé en publicar un starter de Nuxt pero siendo realista no tendría tiempo para mantenerlo. Creo que este post explica muy bien cómo hacerlo, pero si te has quedado con alguna duda, siempre puedes contactarme a mi email: [marina@marinaaisa](mailto:marina@marinaaisa.com).\n\nComo no tengo comentarios en el blog, me encantaría continuar la conversación en [Twitter](https://twitter.com/MarinaAisa). ¡Todo feedback es bienvenido! Si crees que hay algo que se puede mejorar me ayudarías muchísimo.\n",html:'<h2>¿Por qué re-hice mi web con Nuxt?</h2>\n<p>Aunque algunos ya me conoceis, soy <a href="https://twitter.com/MarinaAisa">Marina Aísa</a>, UX Engineer (diseño y front-end) y actualmente trabajo en <a href="https://www.holaluz.com">Holaluz</a>.</p>\n<p>El pasado año, 2018, estuve muy enfocada en aprender más de JavaScript, la cual era una asignatura pendiente y a la vez aprendí una de sus librerías, <a href="https://vuejs.org/">Vue.js</a>. Al mismo tiempo, en Holaluz, empezamos a utilizar <a href="https://nuxtjs.org/">Nuxt.js</a>, un framework sobre VueJS para rehacer tanto las webs estáticas como las dinámicas (SPA) de la empresa en componentes y poder crear un sistema de diseño con ello.</p>\n<p>Mi web anterior estaba hecha con <a href="https://middlemanapp.com/">Middleman</a>, un generador de páginas estáticas basado en Ruby, así que aproveché para rehacer mi web con Nuxt y Vue, con el fin de:</p>\n<ul>\n<li>Aprender</li>\n<li>Mejorar la performance</li>\n<li>Añadir funcionalidades a la web como un blog y portfolio</li>\n<li>Añadir dos idiomas, español e inglés, <strong>también en los posts del blog</strong> pero de forma independiente, ya que cuento con algunos posts que no estén traducidos en ambos idiomas.</li>\n</ul>\n<p>Lo que más me atrae de Nuxt es la filosofía <em>serverless</em> (aunque Nuxt también puede ser SSR) y el prerendering estático que proporciona a aplicaciones SPA. Resumidamente, con ello se puede combinar lo mejor de una web estática: HTML compilado, lo que conlleva mejor SEO, y lo mejor de una <em>single page application</em>: Webpack, optimizaciones de caché, lazy-loading, funciones y datos asíncronos...</p>\n<h2>¿De dónde saco el contenido si no tengo servidor?</h2>\n<p>Nuxt, al seguir la arquitectura <a href="https://jamstack.org/">JAMStack</a>, está construido para obtener contenido mediante APIs, por ello muchas personas utilizan headless CMSs como <a href="https://www.contentful.com/">Contentful</a> o <a href="https://prismic.io/">Prismic</a>. Me parecían opciones interesantes en un principio pero me di cuenta que no era necesario para una web como la mía ya que los CMSs están orientados para ser utilizados por personas sin conocimientos técnicos, además de ser caros, guardar los assets en sus propios servidores y no ser la mejor opción si quería tener la mejor performance.</p>\n<p><strong>Por ello, me decidí a utilizar un sistema de Markdowns que guardaría en Github y llamaría dinámicamente.</strong></p>\n<h3>Importación de los artículos en la página principal dependiendo del idioma</h3>\n<p>Mediante la función asíncrona <inline-code>asyncData</inline-code> que proporciona Nuxt solo en sus páginas (no en sus componentes) hago una importación de los Markdown que tengo guardados en la carpeta <inline-code>content</inline-code> del proyecto. Posteriormente los devuelvo en forma de promesa como un array de objetos. Como puedes ver a continuación, la importación depende de la constante <inline-code>blogs</inline-code> que será el array <inline-code>blogsEs</inline-code> o <inline-code>blogsEn</inline-code> dependiendo del idioma de la página.</p>\n<pre><code class="language-javascript">import blogsEn from \'~/contents/en/blogsEn.js\'\nimport blogsEs from \'~/contents/tr/blogsTR.js\'\n\nasync asyncData ({app}) {\n  const blogs = app.i18n.locale === \'en\' ? blogsEn : blogsEs\n  \n  async function asyncImport (blogName) {\n    const wholeMD = await import(`~/content/${app.i18n.locale}/blog/${blogName}.md`)\n    return wholeMD.attributes\n  }\n\n  return Promise.all(blogs.map(blog =&gt; asyncImport(blog)))\n  .then((res) =&gt; {\n    return {\n      blogs: res\n    }\n  })\n}\n</code></pre>\n<p>La razón por la cual tengo los arrays de los nombres de los blogs importados desde fuera es porque quiero utilizarlos también para generar las páginas de forma estática a través del objeto <a href="https://nuxtjs.org/api/configuration-generate/">generate</a> en la configuración de Nuxt, fichero <inline-code>nuxt.config.js</inline-code>.</p>\n<pre><code class="language-javascript">import blogsEn from \'~/contents/en/blogsEn.js\'\nimport blogsEs from \'~/contents/tr/blogsTR.js\'\n\ngenerate: {\n  routes: [\n    \'/es\', \'404\'\n  ]\n  .concat(blogsEn.map(blog =&gt; `/blog/${blog}`))\n  .concat(blogsEs.map(blog =&gt; `es/blog/${blog}`))\n}\n</code></pre>\n<h3>Generación de páginas dinámicas a partir de archivos Markdown</h3>\n<p>Nuxt tiene una funcionalidad muy interesante y es la creación de <a href="https://nuxtjs.org/guide/routing/#dynamic-routes">rutas dinámicas</a>.</p>\n<p>En la siguiente importación vuelvo a utilizar la función <inline-code>asyncData</inline-code> en vez de <inline-code>data</inline-code> como suele hacerse en Vue, para primero importar cada Markdown y después devolver un nuevo objeto con la información que quiero utilizar en el template de la página.\n<strong>En la importación juego con que la URL es igual al nombre de cada archivo markdown.</strong>\nEn el caso de que el archivo md no exista simplemente irá a la página 404.</p>\n<pre><code class="language-javascript">async asyncData ({params, app}) {\n  const fileContent = await import(`~/contents/${app.i18n.locale}/blog/${params.slug}.md`)\n  const attr = fileContent.attributes\n  return {\n    colors: attr.colors,\n    date: attr.date,\n    description: attr.description,\n    id: attr.id,\n    name: params.slug,\n    related: attr.related,\n    renderFunc: fileContent.vue.render,\n    staticRenderFuncs: fileContent.vue.staticRenderFns,\n    title: attr.title,\n    urlTranslation: attr.urlTranslation\n  }\n}\n</code></pre>\n<p>Si quisieramos crear un portfolio sería exactamente igual que el blog. Crearíamos dentro de <inline-code>contents</inline-code> una carpeta llamada <inline-code>portfolio</inline-code> y haríamos el mismo proceso que hemos hecho con <inline-code>blogs</inline-code>.</p>\n<p>El loader para archivos Markdown de Webpack que utilizo es: <a href="https://www.npmjs.com/package/frontmatter-markdown-loader">frontmatter-markdown-loader</a> que me permite meter componentes de Vue dentro de markdown, así como extraer los atributos <inline-code>frontmatter</inline-code> como hacen generadores estáticos como Jekyll. Y para que el código se vea así de bonito le aplico: <a href="https://highlightjs.org/">HighlightJS</a></p>\n<h2>Hablemos de performance</h2>\n<p>¿Recuerdas que antes te he hablado que una de mis motivaciones para crear esta web era tener un blog que tuviera una buena performance?\nCon Nuxt lo he conseguido, y aún me queda bastante por optimizar.</p>\n<p>Si has llegado hasta aquí seguramente habrás pensado: <em>&quot;Vaya percal ha montado Marina, si total podía haber hecho un blog en <a href="https://medium.com/">Medium</a> y ya está&quot;</em> y justo ahora vas a entender por qué no me gusta Medium.</p>\n<p>Además de que escribiendo en Medium <strong>no tienes el control sobre tu blog</strong> como CSS, SEO, añadir funcionalidades, el contenido <strong>lo cedes a Medium</strong>, tiene limitación de artículos leídos... encima, <strong>tienen una performance que deja mucho que desear.</strong></p>\n<p>Gracias a la herramienta <a href="https://developers.google.com/web/fundamentals/performance/audit/">Lighthouse</a> de Google podemos analizar y comparar Medium con mi web.</p>\n<p><image-responsive\n    imageURL="blog/vue-nuxt-blog/performance.jpg"\n    :width="\'952\'"\n    :height="\'509\'"\n    alt="performance" /></p>\n<p>Como ves, Medium hace muchas cosas bien pero la performance no es una de ellas. Esto se traduce en experiencia de usuario como una carga muy lenta, sobre todo en dispositivos móviles. <strong>Porque la performance es experiencia de usuario.</strong> Ya hablaremos más de ello otro día.\nLo interesante aquí es que con Nuxt he conseguido llegar a un <strong>94%</strong> de performance frente a un 40% que ofrece Medium en la primera carga, pero lo mejor es que al utilizar sistemas de caché, <strong>la segunda vez que entres en mi web la performance es de 100%</strong> mientras que Medium es del 60%.</p>\n<h2>Web en dos idiomas</h2>\n<p>Para traducir la web en inglés y español utilizo <a href="https://github.com/nuxt-community/nuxt-i18n">nuxt-i18n</a>. Es una capa por encima de <a href="https://github.com/kazupon/vue-i18n">vue-i18n</a> la cual tiene lazy-loading de las traducciones. <em>Nuxt-i18n</em> automatiza cómo se trabajan las traducciones en el router de Vue, simplificándolo para Nuxt. Te lo recomiendo por el router, aunque el paquete en sí está un poco verde, la documentación no es la mejor y tiene algunas cosas que no he conseguido que funcionaran como la cookie de redirección en base al idioma del navegador. Pero es un problema que tienes que aceptar si utilizas un nuevo framework como es Nuxt.</p>\n<h2>Funcionalidades y mejoras que quiero añadir en el futuro</h2>\n<ul>\n<li>\n<p>No estoy muy contenta con la cantidad de JS que estoy metiendo en la web, tengo un total de más de 100k de JS síncrono y quiero reducirlo. Aún tengo que averiguar el cómo. Mi relación con JS es de amor/odio. Por un lado me encanta todo lo que te permite hacer y por otro lo odio porque tiene un coste terrible en la performance de la página.</p>\n</li>\n<li>\n<p>Añadir un sistema de portfolio con páginas dinámicas como el blog.</p>\n</li>\n<li>\n<p>Mejoras en el diseño y usabilidad.</p>\n</li>\n<li>\n<p>Hacer la web totalmente accesible desde el diseño al código.</p>\n</li>\n<li>\n<p>Limpiar CSS que no utilizo e intentar reducirlo.</p>\n</li>\n<li>\n<p>Critico mucho Medium pero en verdad me gusta mucho tanto su diseño como algunas de sus funcionalidades, de hecho me gustaría añadir su famoso botón <em>&quot;clap&quot;</em> a mi web.</p>\n</li>\n<li>\n<p>Añadir comentarios al post.</p>\n</li>\n<li>\n<p>Añadir posts similares al que has leído.</p>\n</li>\n</ul>\n<h2>Cosas de la web que os contaré otro día</h2>\n<ul>\n<li>\n<p>Lazy loading de componentes e imágenes en Nuxt, te contaré qué paquetes utilizo y el componente propio que hice para renderizar una primera imagen <em>placeholder</em> en base64 y después de forma asíncrona la imagen final.</p>\n</li>\n<li>\n<p>Cómo utilizar <inline-code>analyze</inline-code> de Nuxt para analizar el JS que genera Webpack en nuestra app y poder optimizarlo.</p>\n</li>\n<li>\n<p>El gran error que cometí en el camino: Vuex. <nuxt-link to="/es/blog/vuex-que-es-cuando-utilizarlo">Ya lo puedes leer aquí</nuxt-link>.</p>\n</li>\n<li>\n<p>Cómo meter emojis en tu web a través de un sprite hecho en SCSS para que se vean siempre igual independientemente del navegador o dispositivo.</p>\n</li>\n<li>\n<p>Carga de componentes asíncronos de Vue con el ejemplo práctico del mapa que hay en la home.</p>\n</li>\n</ul>\n<p>Pensé en publicar un starter de Nuxt pero siendo realista no tendría tiempo para mantenerlo. Creo que este post explica muy bien cómo hacerlo, pero si te has quedado con alguna duda, siempre puedes contactarme a mi email: <a href="mailto:marina@marinaaisa.com">marina@marinaaisa</a>.</p>\n<p>Como no tengo comentarios en el blog, me encantaría continuar la conversación en <a href="https://twitter.com/MarinaAisa">Twitter</a>. ¡Todo feedback es bienvenido! Si crees que hay algo que se puede mejorar me ayudarías muchísimo.</p>\n',attributes:{name:"blog-usando-vue-nuxt-markdown",title:"Web con blog y portfolio usando Vue.js + Nuxt + Markdown",year:"1 Enero 2019",color:"#8e7964",trans:"blog-using-vue-nuxt-markdown",id:"vue-nuxt-blog",description:"Cómo he creado mi nueva web con portfolio y blog en dos idiomas. Qué tecnología he utilizado y por qué.\n",_meta:{resourcePath:"/var/www/html/nuxt-markdown-blog-starter/contents/tr/blog/blog-usando-vue-nuxt-markdown.md"}},vue:{render:'return function render() { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"dynamicMarkdown"},[_c(\'h2\',[_vm._v("¿Por qué re-hice mi web con Nuxt?")]),_vm._v(" "),_vm._m(0),_vm._v(" "),_vm._m(1),_vm._v(" "),_vm._m(2),_vm._v(" "),_vm._m(3),_vm._v(" "),_vm._m(4),_vm._v(" "),_c(\'h2\',[_vm._v("¿De dónde saco el contenido si no tengo servidor?")]),_vm._v(" "),_vm._m(5),_vm._v(" "),_vm._m(6),_vm._v(" "),_c(\'h3\',[_vm._v("Importación de los artículos en la página principal dependiendo del idioma")]),_vm._v(" "),_c(\'p\',[_vm._v("Mediante la función asíncrona "),_c(\'inline-code\',[_vm._v("asyncData")]),_vm._v(" que proporciona Nuxt solo en sus páginas (no en sus componentes) hago una importación de los Markdown que tengo guardados en la carpeta "),_c(\'inline-code\',[_vm._v("content")]),_vm._v(" del proyecto. Posteriormente los devuelvo en forma de promesa como un array de objetos. Como puedes ver a continuación, la importación depende de la constante "),_c(\'inline-code\',[_vm._v("blogs")]),_vm._v(" que será el array "),_c(\'inline-code\',[_vm._v("blogsEs")]),_vm._v(" o "),_c(\'inline-code\',[_vm._v("blogsEn")]),_vm._v(" dependiendo del idioma de la página.")],1),_vm._v(" "),_vm._m(7),_vm._v(" "),_c(\'p\',[_vm._v("La razón por la cual tengo los arrays de los nombres de los blogs importados desde fuera es porque quiero utilizarlos también para generar las páginas de forma estática a través del objeto "),_c(\'a\',{attrs:{"href":"https://nuxtjs.org/api/configuration-generate/"}},[_vm._v("generate")]),_vm._v(" en la configuración de Nuxt, fichero "),_c(\'inline-code\',[_vm._v("nuxt.config.js")]),_vm._v(".")],1),_vm._v(" "),_vm._m(8),_vm._v(" "),_c(\'h3\',[_vm._v("Generación de páginas dinámicas a partir de archivos Markdown")]),_vm._v(" "),_vm._m(9),_vm._v(" "),_c(\'p\',[_vm._v("En la siguiente importación vuelvo a utilizar la función "),_c(\'inline-code\',[_vm._v("asyncData")]),_vm._v(" en vez de "),_c(\'inline-code\',[_vm._v("data")]),_vm._v(" como suele hacerse en Vue, para primero importar cada Markdown y después devolver un nuevo objeto con la información que quiero utilizar en el template de la página.\\n"),_c(\'strong\',[_vm._v("En la importación juego con que la URL es igual al nombre de cada archivo markdown.")]),_vm._v("\\nEn el caso de que el archivo md no exista simplemente irá a la página 404.")],1),_vm._v(" "),_vm._m(10),_vm._v(" "),_c(\'p\',[_vm._v("Si quisieramos crear un portfolio sería exactamente igual que el blog. Crearíamos dentro de "),_c(\'inline-code\',[_vm._v("contents")]),_vm._v(" una carpeta llamada "),_c(\'inline-code\',[_vm._v("portfolio")]),_vm._v(" y haríamos el mismo proceso que hemos hecho con "),_c(\'inline-code\',[_vm._v("blogs")]),_vm._v(".")],1),_vm._v(" "),_c(\'p\',[_vm._v("El loader para archivos Markdown de Webpack que utilizo es: "),_c(\'a\',{attrs:{"href":"https://www.npmjs.com/package/frontmatter-markdown-loader"}},[_vm._v("frontmatter-markdown-loader")]),_vm._v(" que me permite meter componentes de Vue dentro de markdown, así como extraer los atributos "),_c(\'inline-code\',[_vm._v("frontmatter")]),_vm._v(" como hacen generadores estáticos como Jekyll. Y para que el código se vea así de bonito le aplico: "),_c(\'a\',{attrs:{"href":"https://highlightjs.org/"}},[_vm._v("HighlightJS")])],1),_vm._v(" "),_c(\'h2\',[_vm._v("Hablemos de performance")]),_vm._v(" "),_c(\'p\',[_vm._v("¿Recuerdas que antes te he hablado que una de mis motivaciones para crear esta web era tener un blog que tuviera una buena performance?\\nCon Nuxt lo he conseguido, y aún me queda bastante por optimizar.")]),_vm._v(" "),_vm._m(11),_vm._v(" "),_vm._m(12),_vm._v(" "),_vm._m(13),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"blog/vue-nuxt-blog/performance.jpg","width":\'952\',"height":\'509\',"alt":"performance"}})],1),_vm._v(" "),_vm._m(14),_vm._v(" "),_c(\'h2\',[_vm._v("Web en dos idiomas")]),_vm._v(" "),_vm._m(15),_vm._v(" "),_c(\'h2\',[_vm._v("Funcionalidades y mejoras que quiero añadir en el futuro")]),_vm._v(" "),_vm._m(16),_vm._v(" "),_c(\'h2\',[_vm._v("Cosas de la web que os contaré otro día")]),_vm._v(" "),_c(\'ul\',[_vm._m(17),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Cómo utilizar "),_c(\'inline-code\',[_vm._v("analyze")]),_vm._v(" de Nuxt para analizar el JS que genera Webpack en nuestra app y poder optimizarlo.")],1)]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("El gran error que cometí en el camino: Vuex. "),_c(\'nuxt-link\',{attrs:{"to":"/es/blog/vuex-que-es-cuando-utilizarlo"}},[_vm._v("Ya lo puedes leer aquí")]),_vm._v(".")],1)]),_vm._v(" "),_vm._m(18),_vm._v(" "),_vm._m(19)]),_vm._v(" "),_vm._m(20),_vm._v(" "),_vm._m(21)]) }',staticRenderFns:'return [function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Aunque algunos ya me conoceis, soy "),_c(\'a\',{attrs:{"href":"https://twitter.com/MarinaAisa"}},[_vm._v("Marina Aísa")]),_vm._v(", UX Engineer (diseño y front-end) y actualmente trabajo en "),_c(\'a\',{attrs:{"href":"https://www.holaluz.com"}},[_vm._v("Holaluz")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("El pasado año, 2018, estuve muy enfocada en aprender más de JavaScript, la cual era una asignatura pendiente y a la vez aprendí una de sus librerías, "),_c(\'a\',{attrs:{"href":"https://vuejs.org/"}},[_vm._v("Vue.js")]),_vm._v(". Al mismo tiempo, en Holaluz, empezamos a utilizar "),_c(\'a\',{attrs:{"href":"https://nuxtjs.org/"}},[_vm._v("Nuxt.js")]),_vm._v(", un framework sobre VueJS para rehacer tanto las webs estáticas como las dinámicas (SPA) de la empresa en componentes y poder crear un sistema de diseño con ello.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Mi web anterior estaba hecha con "),_c(\'a\',{attrs:{"href":"https://middlemanapp.com/"}},[_vm._v("Middleman")]),_vm._v(", un generador de páginas estáticas basado en Ruby, así que aproveché para rehacer mi web con Nuxt y Vue, con el fin de:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("Aprender")]),_vm._v(" "),_c(\'li\',[_vm._v("Mejorar la performance")]),_vm._v(" "),_c(\'li\',[_vm._v("Añadir funcionalidades a la web como un blog y portfolio")]),_vm._v(" "),_c(\'li\',[_vm._v("Añadir dos idiomas, español e inglés, "),_c(\'strong\',[_vm._v("también en los posts del blog")]),_vm._v(" pero de forma independiente, ya que cuento con algunos posts que no estén traducidos en ambos idiomas.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Lo que más me atrae de Nuxt es la filosofía "),_c(\'em\',[_vm._v("serverless")]),_vm._v(" (aunque Nuxt también puede ser SSR) y el prerendering estático que proporciona a aplicaciones SPA. Resumidamente, con ello se puede combinar lo mejor de una web estática: HTML compilado, lo que conlleva mejor SEO, y lo mejor de una "),_c(\'em\',[_vm._v("single page application")]),_vm._v(": Webpack, optimizaciones de caché, lazy-loading, funciones y datos asíncronos...")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Nuxt, al seguir la arquitectura "),_c(\'a\',{attrs:{"href":"https://jamstack.org/"}},[_vm._v("JAMStack")]),_vm._v(", está construido para obtener contenido mediante APIs, por ello muchas personas utilizan headless CMSs como "),_c(\'a\',{attrs:{"href":"https://www.contentful.com/"}},[_vm._v("Contentful")]),_vm._v(" o "),_c(\'a\',{attrs:{"href":"https://prismic.io/"}},[_vm._v("Prismic")]),_vm._v(". Me parecían opciones interesantes en un principio pero me di cuenta que no era necesario para una web como la mía ya que los CMSs están orientados para ser utilizados por personas sin conocimientos técnicos, además de ser caros, guardar los assets en sus propios servidores y no ser la mejor opción si quería tener la mejor performance.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'strong\',[_vm._v("Por ello, me decidí a utilizar un sistema de Markdowns que guardaría en Github y llamaría dinámicamente.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import blogsEn from \'~/contents/en/blogsEn.js\'\\nimport blogsEs from \'~/contents/tr/blogsTR.js\'\\n\\nasync asyncData ({app}) {\\n  const blogs = app.i18n.locale === \'en\' ? blogsEn : blogsEs\\n  \\n  async function asyncImport (blogName) {\\n    const wholeMD = await import(`~/content/${app.i18n.locale}/blog/${blogName}.md`)\\n    return wholeMD.attributes\\n  }\\n\\n  return Promise.all(blogs.map(blog => asyncImport(blog)))\\n  .then((res) => {\\n    return {\\n      blogs: res\\n    }\\n  })\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("import blogsEn from \'~/contents/en/blogsEn.js\'\\nimport blogsEs from \'~/contents/tr/blogsTR.js\'\\n\\ngenerate: {\\n  routes: [\\n    \'/es\', \'404\'\\n  ]\\n  .concat(blogsEn.map(blog => `/blog/${blog}`))\\n  .concat(blogsEs.map(blog => `es/blog/${blog}`))\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Nuxt tiene una funcionalidad muy interesante y es la creación de "),_c(\'a\',{attrs:{"href":"https://nuxtjs.org/guide/routing/#dynamic-routes"}},[_vm._v("rutas dinámicas")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"language-javascript"}},[_vm._v("async asyncData ({params, app}) {\\n  const fileContent = await import(`~/contents/${app.i18n.locale}/blog/${params.slug}.md`)\\n  const attr = fileContent.attributes\\n  return {\\n    colors: attr.colors,\\n    date: attr.date,\\n    description: attr.description,\\n    id: attr.id,\\n    name: params.slug,\\n    related: attr.related,\\n    renderFunc: fileContent.vue.render,\\n    staticRenderFuncs: fileContent.vue.staticRenderFns,\\n    title: attr.title,\\n    urlTranslation: attr.urlTranslation\\n  }\\n}\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Si has llegado hasta aquí seguramente habrás pensado: "),_c(\'em\',[_vm._v("\\"Vaya percal ha montado Marina, si total podía haber hecho un blog en "),_c(\'a\',{attrs:{"href":"https://medium.com/"}},[_vm._v("Medium")]),_vm._v(" y ya está\\"")]),_vm._v(" y justo ahora vas a entender por qué no me gusta Medium.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Además de que escribiendo en Medium "),_c(\'strong\',[_vm._v("no tienes el control sobre tu blog")]),_vm._v(" como CSS, SEO, añadir funcionalidades, el contenido "),_c(\'strong\',[_vm._v("lo cedes a Medium")]),_vm._v(", tiene limitación de artículos leídos... encima, "),_c(\'strong\',[_vm._v("tienen una performance que deja mucho que desear.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Gracias a la herramienta "),_c(\'a\',{attrs:{"href":"https://developers.google.com/web/fundamentals/performance/audit/"}},[_vm._v("Lighthouse")]),_vm._v(" de Google podemos analizar y comparar Medium con mi web.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Como ves, Medium hace muchas cosas bien pero la performance no es una de ellas. Esto se traduce en experiencia de usuario como una carga muy lenta, sobre todo en dispositivos móviles. "),_c(\'strong\',[_vm._v("Porque la performance es experiencia de usuario.")]),_vm._v(" Ya hablaremos más de ello otro día.\\nLo interesante aquí es que con Nuxt he conseguido llegar a un "),_c(\'strong\',[_vm._v("94%")]),_vm._v(" de performance frente a un 40% que ofrece Medium en la primera carga, pero lo mejor es que al utilizar sistemas de caché, "),_c(\'strong\',[_vm._v("la segunda vez que entres en mi web la performance es de 100%")]),_vm._v(" mientras que Medium es del 60%.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Para traducir la web en inglés y español utilizo "),_c(\'a\',{attrs:{"href":"https://github.com/nuxt-community/nuxt-i18n"}},[_vm._v("nuxt-i18n")]),_vm._v(". Es una capa por encima de "),_c(\'a\',{attrs:{"href":"https://github.com/kazupon/vue-i18n"}},[_vm._v("vue-i18n")]),_vm._v(" la cual tiene lazy-loading de las traducciones. "),_c(\'em\',[_vm._v("Nuxt-i18n")]),_vm._v(" automatiza cómo se trabajan las traducciones en el router de Vue, simplificándolo para Nuxt. Te lo recomiendo por el router, aunque el paquete en sí está un poco verde, la documentación no es la mejor y tiene algunas cosas que no he conseguido que funcionaran como la cookie de redirección en base al idioma del navegador. Pero es un problema que tienes que aceptar si utilizas un nuevo framework como es Nuxt.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_c(\'p\',[_vm._v("No estoy muy contenta con la cantidad de JS que estoy metiendo en la web, tengo un total de más de 100k de JS síncrono y quiero reducirlo. Aún tengo que averiguar el cómo. Mi relación con JS es de amor/odio. Por un lado me encanta todo lo que te permite hacer y por otro lo odio porque tiene un coste terrible en la performance de la página.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Añadir un sistema de portfolio con páginas dinámicas como el blog.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Mejoras en el diseño y usabilidad.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Hacer la web totalmente accesible desde el diseño al código.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Limpiar CSS que no utilizo e intentar reducirlo.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Critico mucho Medium pero en verdad me gusta mucho tanto su diseño como algunas de sus funcionalidades, de hecho me gustaría añadir su famoso botón "),_c(\'em\',[_vm._v("\\"clap\\"")]),_vm._v(" a mi web.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Añadir comentarios al post.")])]),_vm._v(" "),_c(\'li\',[_c(\'p\',[_vm._v("Añadir posts similares al que has leído.")])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'li\',[_c(\'p\',[_vm._v("Lazy loading de componentes e imágenes en Nuxt, te contaré qué paquetes utilizo y el componente propio que hice para renderizar una primera imagen "),_c(\'em\',[_vm._v("placeholder")]),_vm._v(" en base64 y después de forma asíncrona la imagen final.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'li\',[_c(\'p\',[_vm._v("Cómo meter emojis en tu web a través de un sprite hecho en SCSS para que se vean siempre igual independientemente del navegador o dispositivo.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'li\',[_c(\'p\',[_vm._v("Carga de componentes asíncronos de Vue con el ejemplo práctico del mapa que hay en la home.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Pensé en publicar un starter de Nuxt pero siendo realista no tendría tiempo para mantenerlo. Creo que este post explica muy bien cómo hacerlo, pero si te has quedado con alguna duda, siempre puedes contactarme a mi email: "),_c(\'a\',{attrs:{"href":"mailto:marina@marinaaisa.com"}},[_vm._v("marina@marinaaisa")]),_vm._v(".")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Como no tengo comentarios en el blog, me encantaría continuar la conversación en "),_c(\'a\',{attrs:{"href":"https://twitter.com/MarinaAisa"}},[_vm._v("Twitter")]),_vm._v(". ¡Todo feedback es bienvenido! Si crees que hay algo que se puede mejorar me ayudarías muchísimo.")]) }]',component:{data:function(){return{templateRender:null}},render:function(e){return this.templateRender?this.templateRender():e("div","Rendering")},created:function(){this.templateRender=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"dynamicMarkdown"},[o("h2",[e._v("¿Por qué re-hice mi web con Nuxt?")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),o("h2",[e._v("¿De dónde saco el contenido si no tengo servidor?")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),o("h3",[e._v("Importación de los artículos en la página principal dependiendo del idioma")]),e._v(" "),o("p",[e._v("Mediante la función asíncrona "),o("inline-code",[e._v("asyncData")]),e._v(" que proporciona Nuxt solo en sus páginas (no en sus componentes) hago una importación de los Markdown que tengo guardados en la carpeta "),o("inline-code",[e._v("content")]),e._v(" del proyecto. Posteriormente los devuelvo en forma de promesa como un array de objetos. Como puedes ver a continuación, la importación depende de la constante "),o("inline-code",[e._v("blogs")]),e._v(" que será el array "),o("inline-code",[e._v("blogsEs")]),e._v(" o "),o("inline-code",[e._v("blogsEn")]),e._v(" dependiendo del idioma de la página.")],1),e._v(" "),e._m(7),e._v(" "),o("p",[e._v("La razón por la cual tengo los arrays de los nombres de los blogs importados desde fuera es porque quiero utilizarlos también para generar las páginas de forma estática a través del objeto "),o("a",{attrs:{href:"https://nuxtjs.org/api/configuration-generate/"}},[e._v("generate")]),e._v(" en la configuración de Nuxt, fichero "),o("inline-code",[e._v("nuxt.config.js")]),e._v(".")],1),e._v(" "),e._m(8),e._v(" "),o("h3",[e._v("Generación de páginas dinámicas a partir de archivos Markdown")]),e._v(" "),e._m(9),e._v(" "),o("p",[e._v("En la siguiente importación vuelvo a utilizar la función "),o("inline-code",[e._v("asyncData")]),e._v(" en vez de "),o("inline-code",[e._v("data")]),e._v(" como suele hacerse en Vue, para primero importar cada Markdown y después devolver un nuevo objeto con la información que quiero utilizar en el template de la página.\n"),o("strong",[e._v("En la importación juego con que la URL es igual al nombre de cada archivo markdown.")]),e._v("\nEn el caso de que el archivo md no exista simplemente irá a la página 404.")],1),e._v(" "),e._m(10),e._v(" "),o("p",[e._v("Si quisieramos crear un portfolio sería exactamente igual que el blog. Crearíamos dentro de "),o("inline-code",[e._v("contents")]),e._v(" una carpeta llamada "),o("inline-code",[e._v("portfolio")]),e._v(" y haríamos el mismo proceso que hemos hecho con "),o("inline-code",[e._v("blogs")]),e._v(".")],1),e._v(" "),o("p",[e._v("El loader para archivos Markdown de Webpack que utilizo es: "),o("a",{attrs:{href:"https://www.npmjs.com/package/frontmatter-markdown-loader"}},[e._v("frontmatter-markdown-loader")]),e._v(" que me permite meter componentes de Vue dentro de markdown, así como extraer los atributos "),o("inline-code",[e._v("frontmatter")]),e._v(" como hacen generadores estáticos como Jekyll. Y para que el código se vea así de bonito le aplico: "),o("a",{attrs:{href:"https://highlightjs.org/"}},[e._v("HighlightJS")])],1),e._v(" "),o("h2",[e._v("Hablemos de performance")]),e._v(" "),o("p",[e._v("¿Recuerdas que antes te he hablado que una de mis motivaciones para crear esta web era tener un blog que tuviera una buena performance?\nCon Nuxt lo he conseguido, y aún me queda bastante por optimizar.")]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),o("p",[o("image-responsive",{attrs:{imageURL:"blog/vue-nuxt-blog/performance.jpg",width:"952",height:"509",alt:"performance"}})],1),e._v(" "),e._m(14),e._v(" "),o("h2",[e._v("Web en dos idiomas")]),e._v(" "),e._m(15),e._v(" "),o("h2",[e._v("Funcionalidades y mejoras que quiero añadir en el futuro")]),e._v(" "),e._m(16),e._v(" "),o("h2",[e._v("Cosas de la web que os contaré otro día")]),e._v(" "),o("ul",[e._m(17),e._v(" "),o("li",[o("p",[e._v("Cómo utilizar "),o("inline-code",[e._v("analyze")]),e._v(" de Nuxt para analizar el JS que genera Webpack en nuestra app y poder optimizarlo.")],1)]),e._v(" "),o("li",[o("p",[e._v("El gran error que cometí en el camino: Vuex. "),o("nuxt-link",{attrs:{to:"/es/blog/vuex-que-es-cuando-utilizarlo"}},[e._v("Ya lo puedes leer aquí")]),e._v(".")],1)]),e._v(" "),e._m(18),e._v(" "),e._m(19)]),e._v(" "),e._m(20),e._v(" "),e._m(21)])},this.$options.staticRenderFns=[function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Aunque algunos ya me conoceis, soy "),n("a",{attrs:{href:"https://twitter.com/MarinaAisa"}},[this._v("Marina Aísa")]),this._v(", UX Engineer (diseño y front-end) y actualmente trabajo en "),n("a",{attrs:{href:"https://www.holaluz.com"}},[this._v("Holaluz")]),this._v(".")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("El pasado año, 2018, estuve muy enfocada en aprender más de JavaScript, la cual era una asignatura pendiente y a la vez aprendí una de sus librerías, "),n("a",{attrs:{href:"https://vuejs.org/"}},[this._v("Vue.js")]),this._v(". Al mismo tiempo, en Holaluz, empezamos a utilizar "),n("a",{attrs:{href:"https://nuxtjs.org/"}},[this._v("Nuxt.js")]),this._v(", un framework sobre VueJS para rehacer tanto las webs estáticas como las dinámicas (SPA) de la empresa en componentes y poder crear un sistema de diseño con ello.")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Mi web anterior estaba hecha con "),n("a",{attrs:{href:"https://middlemanapp.com/"}},[this._v("Middleman")]),this._v(", un generador de páginas estáticas basado en Ruby, así que aproveché para rehacer mi web con Nuxt y Vue, con el fin de:")])},function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("ul",[o("li",[e._v("Aprender")]),e._v(" "),o("li",[e._v("Mejorar la performance")]),e._v(" "),o("li",[e._v("Añadir funcionalidades a la web como un blog y portfolio")]),e._v(" "),o("li",[e._v("Añadir dos idiomas, español e inglés, "),o("strong",[e._v("también en los posts del blog")]),e._v(" pero de forma independiente, ya que cuento con algunos posts que no estén traducidos en ambos idiomas.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Lo que más me atrae de Nuxt es la filosofía "),n("em",[this._v("serverless")]),this._v(" (aunque Nuxt también puede ser SSR) y el prerendering estático que proporciona a aplicaciones SPA. Resumidamente, con ello se puede combinar lo mejor de una web estática: HTML compilado, lo que conlleva mejor SEO, y lo mejor de una "),n("em",[this._v("single page application")]),this._v(": Webpack, optimizaciones de caché, lazy-loading, funciones y datos asíncronos...")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Nuxt, al seguir la arquitectura "),n("a",{attrs:{href:"https://jamstack.org/"}},[this._v("JAMStack")]),this._v(", está construido para obtener contenido mediante APIs, por ello muchas personas utilizan headless CMSs como "),n("a",{attrs:{href:"https://www.contentful.com/"}},[this._v("Contentful")]),this._v(" o "),n("a",{attrs:{href:"https://prismic.io/"}},[this._v("Prismic")]),this._v(". Me parecían opciones interesantes en un principio pero me di cuenta que no era necesario para una web como la mía ya que los CMSs están orientados para ser utilizados por personas sin conocimientos técnicos, además de ser caros, guardar los assets en sus propios servidores y no ser la mejor opción si quería tener la mejor performance.")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[n("strong",[this._v("Por ello, me decidí a utilizar un sistema de Markdowns que guardaría en Github y llamaría dinámicamente.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("pre",[n("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("import blogsEn from '~/contents/en/blogsEn.js'\nimport blogsEs from '~/contents/tr/blogsTR.js'\n\nasync asyncData ({app}) {\n  const blogs = app.i18n.locale === 'en' ? blogsEn : blogsEs\n  \n  async function asyncImport (blogName) {\n    const wholeMD = await import(`~/content/${app.i18n.locale}/blog/${blogName}.md`)\n    return wholeMD.attributes\n  }\n\n  return Promise.all(blogs.map(blog => asyncImport(blog)))\n  .then((res) => {\n    return {\n      blogs: res\n    }\n  })\n}\n")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("pre",[n("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("import blogsEn from '~/contents/en/blogsEn.js'\nimport blogsEs from '~/contents/tr/blogsTR.js'\n\ngenerate: {\n  routes: [\n    '/es', '404'\n  ]\n  .concat(blogsEn.map(blog => `/blog/${blog}`))\n  .concat(blogsEs.map(blog => `es/blog/${blog}`))\n}\n")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Nuxt tiene una funcionalidad muy interesante y es la creación de "),n("a",{attrs:{href:"https://nuxtjs.org/guide/routing/#dynamic-routes"}},[this._v("rutas dinámicas")]),this._v(".")])},function(){var e=this.$createElement,n=this._self._c||e;return n("pre",[n("code",{pre:!0,attrs:{class:"language-javascript"}},[this._v("async asyncData ({params, app}) {\n  const fileContent = await import(`~/contents/${app.i18n.locale}/blog/${params.slug}.md`)\n  const attr = fileContent.attributes\n  return {\n    colors: attr.colors,\n    date: attr.date,\n    description: attr.description,\n    id: attr.id,\n    name: params.slug,\n    related: attr.related,\n    renderFunc: fileContent.vue.render,\n    staticRenderFuncs: fileContent.vue.staticRenderFns,\n    title: attr.title,\n    urlTranslation: attr.urlTranslation\n  }\n}\n")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Si has llegado hasta aquí seguramente habrás pensado: "),n("em",[this._v('"Vaya percal ha montado Marina, si total podía haber hecho un blog en '),n("a",{attrs:{href:"https://medium.com/"}},[this._v("Medium")]),this._v(' y ya está"')]),this._v(" y justo ahora vas a entender por qué no me gusta Medium.")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Además de que escribiendo en Medium "),n("strong",[this._v("no tienes el control sobre tu blog")]),this._v(" como CSS, SEO, añadir funcionalidades, el contenido "),n("strong",[this._v("lo cedes a Medium")]),this._v(", tiene limitación de artículos leídos... encima, "),n("strong",[this._v("tienen una performance que deja mucho que desear.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Gracias a la herramienta "),n("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/audit/"}},[this._v("Lighthouse")]),this._v(" de Google podemos analizar y comparar Medium con mi web.")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Como ves, Medium hace muchas cosas bien pero la performance no es una de ellas. Esto se traduce en experiencia de usuario como una carga muy lenta, sobre todo en dispositivos móviles. "),n("strong",[this._v("Porque la performance es experiencia de usuario.")]),this._v(" Ya hablaremos más de ello otro día.\nLo interesante aquí es que con Nuxt he conseguido llegar a un "),n("strong",[this._v("94%")]),this._v(" de performance frente a un 40% que ofrece Medium en la primera carga, pero lo mejor es que al utilizar sistemas de caché, "),n("strong",[this._v("la segunda vez que entres en mi web la performance es de 100%")]),this._v(" mientras que Medium es del 60%.")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Para traducir la web en inglés y español utilizo "),n("a",{attrs:{href:"https://github.com/nuxt-community/nuxt-i18n"}},[this._v("nuxt-i18n")]),this._v(". Es una capa por encima de "),n("a",{attrs:{href:"https://github.com/kazupon/vue-i18n"}},[this._v("vue-i18n")]),this._v(" la cual tiene lazy-loading de las traducciones. "),n("em",[this._v("Nuxt-i18n")]),this._v(" automatiza cómo se trabajan las traducciones en el router de Vue, simplificándolo para Nuxt. Te lo recomiendo por el router, aunque el paquete en sí está un poco verde, la documentación no es la mejor y tiene algunas cosas que no he conseguido que funcionaran como la cookie de redirección en base al idioma del navegador. Pero es un problema que tienes que aceptar si utilizas un nuevo framework como es Nuxt.")])},function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("ul",[o("li",[o("p",[e._v("No estoy muy contenta con la cantidad de JS que estoy metiendo en la web, tengo un total de más de 100k de JS síncrono y quiero reducirlo. Aún tengo que averiguar el cómo. Mi relación con JS es de amor/odio. Por un lado me encanta todo lo que te permite hacer y por otro lo odio porque tiene un coste terrible en la performance de la página.")])]),e._v(" "),o("li",[o("p",[e._v("Añadir un sistema de portfolio con páginas dinámicas como el blog.")])]),e._v(" "),o("li",[o("p",[e._v("Mejoras en el diseño y usabilidad.")])]),e._v(" "),o("li",[o("p",[e._v("Hacer la web totalmente accesible desde el diseño al código.")])]),e._v(" "),o("li",[o("p",[e._v("Limpiar CSS que no utilizo e intentar reducirlo.")])]),e._v(" "),o("li",[o("p",[e._v("Critico mucho Medium pero en verdad me gusta mucho tanto su diseño como algunas de sus funcionalidades, de hecho me gustaría añadir su famoso botón "),o("em",[e._v('"clap"')]),e._v(" a mi web.")])]),e._v(" "),o("li",[o("p",[e._v("Añadir comentarios al post.")])]),e._v(" "),o("li",[o("p",[e._v("Añadir posts similares al que has leído.")])])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("Lazy loading de componentes e imágenes en Nuxt, te contaré qué paquetes utilizo y el componente propio que hice para renderizar una primera imagen "),n("em",[this._v("placeholder")]),this._v(" en base64 y después de forma asíncrona la imagen final.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("Cómo meter emojis en tu web a través de un sprite hecho en SCSS para que se vean siempre igual independientemente del navegador o dispositivo.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("Carga de componentes asíncronos de Vue con el ejemplo práctico del mapa que hay en la home.")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Pensé en publicar un starter de Nuxt pero siendo realista no tendría tiempo para mantenerlo. Creo que este post explica muy bien cómo hacerlo, pero si te has quedado con alguna duda, siempre puedes contactarme a mi email: "),n("a",{attrs:{href:"mailto:marina@marinaaisa.com"}},[this._v("marina@marinaaisa")]),this._v(".")])},function(){var e=this.$createElement,n=this._self._c||e;return n("p",[this._v("Como no tengo comentarios en el blog, me encantaría continuar la conversación en "),n("a",{attrs:{href:"https://twitter.com/MarinaAisa"}},[this._v("Twitter")]),this._v(". ¡Todo feedback es bienvenido! Si crees que hay algo que se puede mejorar me ayudarías muchísimo.")])}]}}}}}}]);